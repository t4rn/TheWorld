!function(){"use strict";function s(s){var e=this;e.trips=[],e.newTrip={},e.errorMessage="",e.successMessage="",e.isBusy=!0,s.get("/api/trips").then(function(s){angular.copy(s.data,e.trips)},function(s){e.errorMessage="Failed to load data: "+s}).finally(function(){e.isBusy=!1}),e.addTrip=function(){e.isBusy=!0,e.errorMessage="",e.successMessage="",console.log(e.newTrip),s.post("/api/trips",e.newTrip).then(function(s){e.trips.push(s.data),e.successMessage="Trip "+e.newTrip.name+" added successfully!",e.newTrip={}},function(){e.errorMessage="Failed to save new trip"}).finally(function(){e.isBusy=!1})},e.deleteTrip=function(i){e.errorMessage="",e.successMessage="";var r=e.trips[i];console.log(r);var t=r.name;console.log("tripName: "+t),e.isBusy=!0,s.delete("/api/trips/"+t).then(function(){var s="Trip"+t+" deleted successfully!";e.successMessage=s,e.trips.splice(i,1)},function(s){var i=JSON.stringify(s);e.errorMessage="Failed to delete trip, error: "+i}).finally(function(){e.isBusy=!1})}}s.$inject=["$http"],angular.module("app-trips").controller("tripsController",s)}();